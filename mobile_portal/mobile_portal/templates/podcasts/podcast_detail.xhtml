{% extends "podcasts/base.xhtml" %}

{% block breadcrumbs %}
{{ block.super }}
    <li><a href="{{ podcast.category.get_absolute_url }}">{{ podcast.category.name }}</a></li>
    <li><a href="{{ podcast.get_absolute_url }}">{{ podcast.title }}</a></li>
{% endblock %}


{% block extrahead %}
<link href="{{ podcast.rss_url }}" type="application/rss+xml" rel="alternate" title="Podcast RSS feed" />
{% endblock %}

{% block content %}

<h1>{{ podcast.title }}</h1>

<a href="{{ podcast.rss_url }}" type="application/rss+xml">subscribe</a>
<p class="podcast_description">{{ podcast.description }}</p>

{% for item in items %}

<div class="podcast_item podcast_item_{% cycle odd,even %}">

<h2 class="podcast_item_title">{{ item.title }}</h2>

<hr/>

<table class="podcast_item_meta">
    <tbody>
{% if item.duration %}
        <tr>
            <th>Duration:</th>
            <td>{{ item.duration }}</td>
        </tr>
{% endif %}
        <tr>
            <th>Published:</th>
            <td>{{ item.published_date|date:"D j M Y, g:i A" }}</td>
        </tr>
    </tbody>
</table>

<p class="podcast_item_description">{{ item.description }}</p>

<hr/>

<h3 class="podcast_enclosures">Downloads</h3>

<table class="podcast_enclosures">
    <thead>
        <tr>
            <th>Format</th>
            <th>Size</th>
            <th>Download</th>
        </tr>
    </thead>
    <tbody>
{% for enc in item.podcastenclosure_set.all %}
        <tr>
            <td>{{ enc.mimetype }}</td>
            <td>{{ enc.length|filesizeformat }}</td>
            <td><a href="{{ enc.url }}">Download</a></td>
        </tr>
{% endfor %}
    </tbody>
</table>

</div>

{% endfor %}

{% endblock %}